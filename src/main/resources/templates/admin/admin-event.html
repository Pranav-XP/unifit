<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Manage Events</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdn.jsdelivr.net/npm/lucide@latest"></script>
</head>
<body class="bg-gray-50">
<div th:replace="~{fragments/admin-dashboard.html}">
  <div th:replace="~{fragments/sidebar.html}"></div>
  <div th:fragment="content" class="container mx-auto px-5">

    <h1 class="text-4xl lg:text-5xl font-bold py-10 text-gray-800">Manage Events</h1>

    <section class="bg-white shadow-md rounded-lg p-6">
      <h2 class="text-2xl font-semibold mb-6 text-gray-700">Events</h2>

      <table class="min-w-full table-auto border-collapse border border-gray-200 mb-6">
        <thead class="bg-gray-100">
        <tr>
          <th class="py-3 px-4 border-b text-left text-gray-600">Title</th>
          <th class="py-3 px-4 border-b text-left text-gray-600">Description</th>
          <th class="py-3 px-4 border-b text-left text-gray-600">Date & Time</th>
          <th class="py-3 px-4 border-b text-left text-gray-600">Facility</th>
          <th class="py-3 px-4 border-b text-left text-gray-600">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="event : ${events}" class="hover:bg-gray-100">
          <td class="py-3 px-4 border-b" th:text="${event.title}"></td>
          <td class="py-3 px-4 border-b" th:text="${event.description}"></td>
          <td class="py-3 px-4 border-b" th:text="${event.eventDateTime}"></td>
          <td class="py-3 px-4 border-b" th:text="${event.facility.name}"></td>
          <td class="py-3 px-4 border-b flex gap-2">
            <!-- Update Button -->
            <a th:href="@{/events/edit/{id}(id=${event.id})}"
               class="flex items-center gap-1 bg-blue-100 text-blue-600 font-semibold p-2 rounded hover:bg-blue-200 transition">
              <i data-lucide="edit" class="w-5 h-5"></i> Update
            </a>
            <!-- Delete Button -->
            <a th:href="@{/events/delete/{id}(id=${event.id})}"
               class="flex items-center gap-1 bg-red-100 text-red-600 font-semibold p-2 rounded hover:bg-red-200 transition"
               onclick="return confirm('Are you sure you want to delete this event?');">
              <i data-lucide="trash" class="w-5 h-5"></i> Delete
            </a>
          </td>
        </tr>
        </tbody>
      </table>

      <a href="/events/create"
         class="inline-block bg-blue-500 text-white font-bold py-2 px-6 rounded shadow hover:bg-blue-600 transition">
        Create New Event
      </a>
    </section>
  </div>
</div>
<script>
  lucide.createIcons();
</script>
</body>
</html>
